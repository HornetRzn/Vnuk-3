const { Telegraf } = require('telegraf');
const axios = require('axios');
const express = require('express');

if (!process.env.TOKEN) throw new Error('TOKEN Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½!');
if (!process.env.GROQ_API_KEY) throw new Error('GROQ_API_KEY Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½!');

const app = express();
app.use(express.json());
app.listen(process.env.PORT || 3000);

const bot = new Telegraf(process.env.TOKEN);

const TARGET_CHAT_ID = "-1002311068598";

// ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð°Ð² Ð±Ð¾Ñ‚Ð°
async function checkBotPermissions() {
  try {
    const chat = await bot.telegram.getChat(TARGET_CHAT_ID);
    if (chat.permissions) {
      console.log('Bot permissions:', chat.permissions);
    }
  } catch (error) {
    console.error('Permission check error:', error);
  }
}
checkBotPermissions();

// Ð’ÐµÐ±Ñ…ÑƒÐº Ð´Ð»Ñ Render
const webhookPath = `/telegraf/${bot.secretPathComponent()}`;
const webhookUrl = `https://vnuk-3.onrender.com${webhookPath}`;
bot.telegram.setWebhook(webhookUrl).catch(console.error);
app.use(bot.webhookCallback(webhookPath));

// Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ð° ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ð¹
const userSessions = new Map();
const SESSION_TIMEOUT = 15 * 60 * 1000;

setInterval(() => {
  const now = Date.now();
  userSessions.forEach((session, key) => {
    if (now - session.lastActivity > SESSION_TIMEOUT) {
      userSessions.delete(key);
      console.log(`Ð¡ÐµÑÑÐ¸Ñ ${key} ÑƒÐ´Ð°Ð»ÐµÐ½Ð° Ð¿Ð¾ Ñ‚Ð°Ð¹Ð¼Ð°ÑƒÑ‚Ñƒ`);
    }
  });
}, 5 * 60 * 1000);

const settings = {
  privateChatResponse: 'Ð¯ Ð½Ðµ ÑÑ‚ÐµÑÐ½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð»ÑŽÐ±Ð»ÑŽ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾Ðµ Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ ðŸ˜Ž ÐŸÐ¾Ð´Ð¿Ð¸ÑÑ‹Ð²Ð°Ð¹ÑÑ Ð½Ð° Â«Ð“Ð•Ð™-Ð Ð¯Ð—ÐÐÐ¬Â» â€” https://t.me/hornetrzn',

  keywords: {
    'Ð² Ñ€Ð¾Ñ‚': [
      'Ð’ ÐŸÐµÑÐ¾Ñ‡Ð½Ðµ Ñ€Ð°Ð½ÑŒÑˆÐµ Ð¶Ð¸Ð» Ð¿Ð°Ñ†Ð°Ð½Ñ‡Ð¸Ðº, Ñ‚Ð¾Ð¶Ðµ Ð»ÑŽÐ±Ð¸Ð» Ð¾Ñ€Ð°Ð»ÑŒÐ½Ð¾Ðµ Ð¼Ð°ÑÑ‚ÐµÑ€ÑÑ‚Ð²Ð¾. Ð’ Ð¿Ñ€Ð¾ÑˆÐ»Ñ‹Ð¹ Ð²Ñ‚Ð¾Ñ€Ð½Ð¸Ðº Ð·Ð°Ð´Ð¾Ñ…Ð½ÑƒÐ»ÑÑ Ð¾Ñ‚ Ð¾Ñ€Ð³Ð°Ð·Ð¼Ð° ðŸ˜­',
      'Ð”Ð»Ð¸Ð½Ð½Ñ‹Ð¹ Ð¸ Ñ‚Ð¾Ð»ÑÑ‚ÐµÐ½ÑŒÐºÐ¸Ð¹?',
      'Ð¯ Ð½Ð° Ð¿Ð». ÐŸÐ¾Ð±ÐµÐ´Ñ‹ (Ñ‡ÑƒÑ‚ÑŒ Ð¿Ñ€Ð°Ð²ÐµÐµ ÐºÐ»ÑƒÐ±Ð° Â«DeepÂ») Ð¿Ñ€Ð¾ÑˆÐ»Ð¾Ð¹ Ð¾ÑÐµÐ½ÑŒÑŽ Ð½Ð¾Ñ‡ÑŒÑŽ Ð¾Ñ„Ð¾Ñ€Ð¼Ð¸Ð»ÑÑ Ñ Ñ€Ð°Ð½Ð´Ð¾Ð¼Ð½Ñ‹Ð¼ Ð½ÐµÐ·Ð½Ð°ÐºÐ¾Ð¼Ñ†ÐµÐ¼ ðŸ†ðŸ‘€ Ð±Ñ‹Ð²Ð°ÐµÑ‚ Ð¶Ðµ Ñ‚Ð°ÐºÐ¾Ðµâ€¦',
      'Ð¢Ñ‹ Ð·Ð°Ð±Ñ‹Ð» ÐºÐ°ÐºÐ¾Ðµ Ð²Ñ€ÐµÐ¼Ñ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¸Ð´Ñ‘Ñ‚? ÐÐ¸ ÐºÐ°Ð¿Ð»Ð¸ Ð² Ñ€Ð¾Ñ‚, Ð½Ð¸ Ð¼Ð¸Ð»Ð»Ð¸Ð¼ÐµÑ‚Ñ€Ð° Ð² Ð¶Ð¾Ð¿Ñƒ ðŸ¤«',
      'Ð¯ Ð±Ñ‹ Ð¾Ñ‚ÑÐ¾ÑÐ°Ð» Ñƒ Ð®Ñ€Ñ‹ Ð‘Ð¾Ñ€Ð¸ÑÐ¾Ð²Ð°. Ð£ Ð½ÐµÐ³Ð¾, Ð½Ð°Ð²ÐµÑ€Ð½Ð¾Ðµ, Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¸Ð¹ Ñ‡Ð»ÐµÐ½, Ð½Ð¾ Ð»Ñ‹ÑÐ¸ÐºÐ¸ Ð¼ÐµÐ½Ñ Ð¿Ñ€ÑÐ¼ Ð·Ð°Ð²Ð¾Ð´ÑÑ‚ ðŸ¤¤',
      'Ð“Ð»ÑƒÐ±Ð¾ÐºÐ¾? ÐŸÑ€ÑÐ¼ Ð² Ð³Ð¾Ñ€Ð»Ð¾?',
      'ÐŸÑ€Ð°Ð»ÑŒÐ½Ð¾. Ð­Ñ‚Ð¾ Ð¿Ñ€Ð°ÐºÑ‚Ð¸Ñ‡Ð½ÐµÐµ  â˜ðŸ» Ð½Ð¸ ÐºÐ»Ð¸Ð·Ð¼Ð° Ð½Ðµ Ð½ÑƒÐ¶Ð½Ð°, Ð½Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ°.',
      'ÐšÑÑ‚Ð°Ñ‚Ð¸. Ð¢Ñ‹ Ð² ÐºÑƒÑ€ÑÐµ, Ñ‡Ñ‚Ð¾ Ð¾Ñ‚ Ð³Ð¾Ñ€Ð»Ð¾Ð²Ð¾Ð³Ð¾ Ð¼Ð¸Ð½ÐµÑ‚Ð° Ð·Ð°Ð»ÐµÑ‚ÐµÑ‚ÑŒ Ð¼Ð¾Ð¶Ð½Ð¾? Ð”Ð°Ð¶Ðµ Ð¿Ð°Ñ€Ð½ÑŽ ðŸ˜³',
      'Ð’ Ð ÑÐ·Ð°Ð½Ð¸ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð¾Ð² ÐŸÐžÐ›ÐÐž ðŸ˜Ž Ñ Ð² Ð¢Ð°Ð¼Ð±Ð¾Ð²Ðµ Ð¶Ð¸Ð» 4 Ð³Ð¾Ð´Ð°, Ð²Ð¾Ñ‚ Ñ‚Ð°Ð¼ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð°Ñ Ð±ÐµÐ·Ð´Ð½Ð°(((',
      'ÐŸÑ€ÑÐ¼ ÐºÐ°Ðº Ð² Ð»ÑŽÑ‚Ð¾Ð¼ Ð³ÐµÐ¹-Ð¿Ð¾Ñ€Ð½Ð¾?'
    ],
    'ÑÐ¾Ð¾Ð±Ñ‰Ð°Ð»Ð¸': [
      'ÐŸÐ¾ÐºÐ° Ð¼ÐµÐ½Ñ Ð´ÐµÐ´ Ð½Ðµ Ð¿ÐµÑ€ÐµÐ²Ñ‘Ð· Ð² Ð ÑÐ·Ð°Ð½ÑŒ Ð¸Ð· Ð¢Ð°Ð¼Ð±Ð¾Ð²Ð°, Ñ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð¶Ð¸Ð» Ð² Ð²Ð°ÐºÑƒÑƒÐ¼Ðµ. Ð”ÑƒÐ¼Ð°Ð», Ñ‡Ñ‚Ð¾ Ñ â€“ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð³ÐµÐ¹ ðŸ‘€',
      'Ð¡Ð°Ð¼Ð¾Ðµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ðµ â€“ Ð¼Ð°Ð»Ð¾ Ñ‚Ð°ÐºÐ¸Ñ… Ð³ÐµÐµÐ², ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¿Ñ€Ð¸Ð·Ð½Ð°Ñ‚ÑŒÑÑ ÑÐµÐ±Ðµ Ð² Ñ‚Ð¾Ð¼, Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¸ Ð¿Ð¾Ð»Ð¸Ð³Ð°Ð¼Ð½Ñ‹. Ð Ð¿Ð¾Ð»Ð¸Ð³Ð°Ð¼Ð½Ñ‹ ÐœÐ« Ð’Ð¡Ð•! ðŸ˜¬',
      'ÐšÐ¾Ð³Ð´Ð° Ñ Ð´Ñ€Ð¾Ñ‡Ñƒ, Ñ‡Ð°ÑÑ‚Ð¾ Ð´ÑƒÐ¼Ð°ÑŽ Ð¾Ð± ÑÑ‚Ð¾Ð¼. Ð”ÑƒÐ¼Ð°Ñ‚ÑŒ â€“ ÑÑ‚Ð¾ Ð²Ð¾Ð¾Ð±Ñ‰Ðµ Ð¼Ð¾Ñ ÑÐ°Ð¼Ð°Ñ Ñ…ÑƒÑ‘Ð²Ð°Ñ Ð¿Ñ€Ð¸Ð²Ñ‹Ñ‡ÐºÐ°.',
      'Ð˜ Ñ‚ÑƒÑ‚ Ð²ÑÐµ Ð´Ñ€ÑƒÐ¶Ð½Ð¾ Ð²Ð·Ð´Ñ€Ð¾Ñ‡Ð½ÑƒÐ»Ð¸ ðŸ’¦',
      'Ð ÑÑƒÐ´ÑŒÐ¸ ÐºÑ‚Ð¾?',
      'Ð’ Ð ÑÐ·Ð°Ð½Ð¸ Ñ‚Ð¾Ð¶Ðµ Ð¼Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð· Ñ‚Ð°ÐºÐ¾Ðµ Ð±Ñ‹Ð»Ð¾. ÐšÑÑ‚Ð°Ñ‚Ð¸, Ñ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¸Ð¼ÐµÑŽ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð² Ð»ÑŽÐ´ÐµÐ¹ Ñ Ð±ÐµÑÐ¿Ð¾Ñ€ÑÐ´Ð¾Ñ‡Ð½Ð¾Ð¹ ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¶Ð¸Ð·Ð½ÑŒÑŽ ðŸ¤¤',
      'Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð¿Ñ€Ð¾ Ð¼Ð¾ÐµÐ³Ð¾ Ð´ÐµÐ´Ð° Ð±ÑƒÐºÐ²Ð°Ð»ÑŒÐ½Ð¾.',
      'Ð§Ð¸Ñ‚Ð°ÑŽ Ð½Ð¾Ð²Ð¾ÑÑ‚Ð¸ Ð¸ Ð¿Ð¾Ð½Ð¸Ð¼Ð°ÑŽ, ÐºÐ°Ðº Ñ…Ð¾Ñ‡ÐµÑ‚ÑÑ Ð±Ð»Ð¸Ð·Ð¾ÑÑ‚Ð¸ Ñ Ñ‚ÐµÐ¼, ÐºÐ¾Ð¼Ñƒ Ñ Ð¸ Ð½Ðµ Ð½ÑƒÐ¶ÐµÐ½-Ñ‚Ð¾, Ð¿Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¼Ñƒ ÑÑ‡Ñ‘Ñ‚Ñƒ ðŸ¤§',
      'Ð¯ Ð²Ñ‡ÐµÑ€Ð° Ð¿Ð¾ÑÑ‡Ð¸Ñ‚Ð°Ð» ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ²Ð¾Ð¸Ñ… Ð¿Ð°Ñ€Ð½ÐµÐ¹ Ð² Ð¾Ñ€Ð°Ð»ÑŒÐ½Ð¾Ð¼ Ð¸ Ð°Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¼. ÐÐµ Ð·Ð½Ð°ÑŽ, Ð·Ð°Ñ‡ÐµÐ¼ ÑÑ‚Ð¾ Ð¿Ð¸ÑˆÑƒ. ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ñ…Ð¾Ñ‡Ñƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð²Ñ‹ Ð·Ð½Ð°Ð»Ð¸: Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº Ð² Ð°Ñ…ÑƒÐµ!',
      'Ð£ Ð¼ÐµÐ½Ñ Ð½Ðµ Ð±Ñ‹Ð»Ð¾ ÑÐµÐºÑÐ° ÑƒÐ¶Ðµ 12 Ñ‡Ð°ÑÐ¾Ð². Ð”ÐµÑ€Ð¶Ñƒ Ð² ÐºÑƒÑ€ÑÐµ ðŸ•›'
    ],
    'ÑÐµÐºÑÐ°Ð½Ñƒ': [
      'Ð”Ð°Ð²Ð½ÐµÐ½ÑŒÐºÐ¾ Ñ‚Ñ‹ Ð² Ð¿Ð¾Ð¸ÑÐºÐ°Ñ…, Ñ ÑÐ¼Ð¾Ñ‚Ñ€ÑŽ ðŸ§ ÐÐ• ÐšÐ›Ð®ÐÐ¢?',
      'Ð Ð¿Ð°ÑÑÐ¸Ð²Ñ‡Ð¸ÐºÐ° Ð½Ðµ Ð¿Ñ€Ð¾Ð±Ð¾Ð²Ð°Ð» Ð½Ð° Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð°Ð½Ð°Ð» Ñ€Ð°Ð·Ð²ÐµÑÑ‚Ð¸?',
      'Ð’ Ð ÑÐ·Ð°Ð½Ð¸ Ð²ÑÐµ Ð°ÐºÑ‚Ð¸Ð²Ñ‹ Ð² ÑÐ¿ÑÑ‡ÐºÐµ Ð´Ð¾ Ð¾ÑÐµÐ½Ð¸, Ñ Ð·Ð°Ð¼ÐµÑ‚Ð¸Ð». ÐšÑ€Ð¸Ð²Ñ‹Ðµ ÐºÐ°ÐºÐ¸Ðµ-Ñ‚Ð¾ Ð°ÐºÑ‚Ð¸Ð²Ñ‹. Ð¡Ñ‚Ñ€Ð°Ð½Ð½Ñ‹Ðµ.',
      'ÐÑƒ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð²Ð¸Ñ€Ñ‚Ð¾Ð¼ Ð·Ð°Ð¹Ð¼Ð¸ÑÑŒ, Ñ€Ð°Ð· Ð½Ðµ ÐºÐ»ÑŽÑ‘Ñ‚ ðŸ’ðŸ¼â€â™‚ï¸ Ð¼Ð¾Ð¶ÐµÑ‚, Ð²Ð·Ð´Ñ€Ð¾Ñ‡Ð½Ñ‘Ð¼ Ð² Ð²Ð¸Ð´ÐµÐ¾Ñ‡Ð°Ñ‚Ðµ?',
      'Ð¡ Ð¼Ð¾Ð»Ð¾Ð´Ñ‹Ð¼ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð¸Ð»Ð¸ Ñ Ð¼ÑƒÐ¶Ð¸Ñ‡ÐºÐ¾Ð¼ Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ð¼? ÐœÐ¼?',
      'Ð˜ Ð»ÑƒÑ‡ÑˆÐµ ÑÐºÑÑ‚Ñ€Ð¸Ð¼!!!',
      'Ð¢Ñ‹ Ð½Ð° Ð´ÐµÐ´Ð° Ð¼Ð¾ÐµÐ³Ð¾ Ð¿Ð¾Ñ…Ð¾Ð¶. Ð¢Ð¾Ð³Ð¾ ÑÐ°Ð¼Ð¾Ð³Ð¾ â€“ ÐŸÐ¾ÑˆÐ»Ð¾Ð³Ð¾ (Ð²ÐµÑ‚ÐµÑ€Ð°Ð½Ð° Ð³ÐµÐ¹-Ñ‚ÑƒÑÐ¾Ð²ÐºÐ¸).',
      'Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ñ Ð¾Ð´Ð½Ð¸Ð¼? Ð§Ñ‚Ð¾ Ñ‚Ð°Ðº Ñ…Ð¸Ð»ÐµÐ½ÑŒÐºÐ¾-Ñ‚Ð¾ â€¦ ðŸ¥´',
      'Ð¢Ñ‹ Ð¶ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð·Ð°Ð²Ñ‡ÐµÑ€Ð° Ñ‚Ñ€Ð°Ñ…Ð°Ð»ÑÑ! Ð”ÐµÑ€Ð¶Ð¸ Ð¿Ð¾ÑÑ‚!!!!',
      'Ð’ÑÑŽ Ð½Ð¾Ñ‡ÑŒ? Ð’Ñ‹Ð´ÐµÑ€Ð¶Ð¸ÑˆÑŒ??'
    ],
    'ÐµÑÑ‚ÑŒ Ð¿Ð°ÑÑ': [
      'Ð ÐºÐ°ÐºÐ¾Ð¹ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚? ðŸ§',
      'ÐžÑ€Ð°Ð»ÑŒÐ½Ð¾ Ð¸Ð»Ð¸ Ð°Ð½Ð°Ð»ÑŒÐ½Ð¾?',
      'Ð¡ÐºÐ¾Ñ€Ð¾ Ð»ÐµÑ‚Ð¾. ÐŸÐ°Ñ€Ð½ÐµÐ¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€ÑÐ¼Ð¾ Ð½Ð° Ñ€ÑÐ·Ð°Ð½ÑÐºÐ¸Ñ… ÑƒÐ»Ð¸Ñ†Ð°Ñ… ÑÐ½Ð¸Ð¼Ð°Ñ‚ÑŒ, Ð±ÐµÐ· Ð²ÑÑÐºÐ¸Ñ… Ñ‡ÑÑ‚Ð¸ÐºÐ¾Ñ„ ðŸ¤¤',
      'Ð‘ÐµÐ· Ð¿Ñ€ÐµÐ·ÐµÑ€Ð²Ð°Ñ‚Ð¸Ð²Ð° Ð½ÑƒÐ¶Ð½Ð¾. ÐžÑ†ÐµÐ½Ð¸Ñ‚ÑŒ, Ñ‚Ð°Ðº ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ð¿Ð¾Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ ðŸ’¦',
      'Ð”Ð°Ð²Ð½Ð¾ Ð¸Ñ‰ÐµÑˆÑŒ-Ñ‚Ð¾?',
      'ÐœÐ¾Ð¶ÐµÑ‚, Ð±ÐµÐ· ÑÐµÐºÑÐ°? ÐŸÐ¾Ð»ÐµÐ¶Ð¸Ð¼ Ð³Ð´Ðµ-Ð½Ð¸Ð±ÑƒÐ´ÑŒ, ÐºÐ°Ð»ÑŒÑÐ½ Ð¿Ð¾ÐºÑƒÑ€Ð¸Ð¼, Ð¿Ð¾ÑÐ¾ÑÑ‘Ð¼(ÑÑ) ðŸ¤¤',
      'Ð’ ÐšÐ°Ð½Ð¸Ñ‰ÐµÐ²Ð¾ Ð¿Ð¾ÐµÑ…Ð°Ð»Ð¸! ÐŸÑ€ÑÐ¼ Ð½Ðµ Ñ€Ð°Ð¹Ð¾Ð½, Ð° Ð³ÐµÐ¹-ÑÑ‚Ð¾Ð»Ð¸Ñ†Ð° Ð ÑÐ·Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð° ðŸ’ªðŸ¾',
      'ÐœÐ½Ðµ Ð²Ð¾Ñ‚ Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ-Ñ‚Ð¾ Ð½Ñ€Ð°Ð²ÑÑ‚ÑÑ  Ñ…ÑƒÑÑÑ‚Ñ‹Ðµ Ð¿Ð°ÑÑÐ¸Ð²Ñ‹. ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð¿Ð¾Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ ÑÐ¾Ð±Ð¾Ð¹ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ðŸ‘¿ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ð¸ Ð½Ðµ Ñ‚Ñ€Ð°Ñ…Ð°Ð».',
      'Ð”ÐµÐ´ Ð¼ÐµÐ½Ñ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð´Ð¾ ÑÑƒÐ±Ð±Ð¾Ñ‚Ñ‹, Ð° Ñ‚Ð°Ðº â€“ Ñ Ð±Ñ‹ Ð²Ñ‹ÐµÐ±Ð°Ð»(ÑÑ) Ñ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸ÐµÐ¼ ðŸ«¦',
      'Ð“Ð¾ÑÑ‚ÑŒ Ð ÑÐ·Ð°Ð½Ð¸, Ð½Ð°Ð²ÐµÑ€Ð½Ð¾Ðµ ðŸ§'
    ],
    'Ñ Ð¿Ð°ÑÑ': [
      'Ð ÐºÐ°ÐºÐ¾Ð¹ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÐµÑ‚? ðŸ§',
      'ÐžÑ€Ð°Ð»ÑŒÐ½Ð¾ Ð¸Ð»Ð¸ Ð°Ð½Ð°Ð»ÑŒÐ½Ð¾?',
      'Ð¡ÐºÐ¾Ñ€Ð¾ Ð»ÐµÑ‚Ð¾. ÐŸÐ°Ñ€Ð½ÐµÐ¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€ÑÐ¼Ð¾ Ð½Ð° Ñ€ÑÐ·Ð°Ð½ÑÐºÐ¸Ñ… ÑƒÐ»Ð¸Ñ†Ð°Ñ… ÑÐ½Ð¸Ð¼Ð°Ñ‚ÑŒ, Ð±ÐµÐ· Ð²ÑÑÐºÐ¸Ñ… Ñ‡ÑÑ‚Ð¸ÐºÐ¾Ñ„ ðŸ¤¤',
      'Ð‘ÐµÐ· Ð¿Ñ€ÐµÐ·ÐµÑ€Ð²Ð°Ñ‚Ð¸Ð²Ð° Ð½ÑƒÐ¶Ð½Ð¾. ÐžÑ†ÐµÐ½Ð¸Ñ‚ÑŒ, Ñ‚Ð°Ðº ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ, Ð¿Ð¾Ð»Ð½Ð¾Ðµ Ð¿Ð¾Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ ðŸ’¦',
      'Ð”Ð°Ð²Ð½Ð¾ Ð¸Ñ‰ÐµÑˆÑŒ-Ñ‚Ð¾?',
      'ÐœÐ¾Ð¶ÐµÑ‚, Ð±ÐµÐ· ÑÐµÐºÑÐ°? ÐŸÐ¾Ð»ÐµÐ¶Ð¸Ð¼ Ð³Ð´Ðµ-Ð½Ð¸Ð±ÑƒÐ´ÑŒ, ÐºÐ°Ð»ÑŒÑÐ½ Ð¿Ð¾ÐºÑƒÑ€Ð¸Ð¼, Ð¿Ð¾ÑÐ¾ÑÑ‘Ð¼(ÑÑ) ðŸ¤¤',
      'Ð’ ÐšÐ°Ð½Ð¸Ñ‰ÐµÐ²Ð¾ Ð¿Ð¾ÐµÑ…Ð°Ð»Ð¸! ÐŸÑ€ÑÐ¼ Ð½Ðµ Ñ€Ð°Ð¹Ð¾Ð½, Ð° Ð³ÐµÐ¹-ÑÑ‚Ð¾Ð»Ð¸Ñ†Ð° Ð ÑÐ·Ð°Ð½ÑÐºÐ¾Ð³Ð¾ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð° ðŸ’ªðŸ¾',
      'ÐœÐ½Ðµ Ð²Ð¾Ñ‚ Ð¿Ð¾Ñ‡ÐµÐ¼Ñƒ-Ñ‚Ð¾ Ð½Ñ€Ð°Ð²ÑÑ‚ÑÑ  Ñ…ÑƒÑÑÑ‚Ñ‹Ðµ Ð¿Ð°ÑÑÐ¸Ð²Ñ‹. ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð¿Ð¾Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ñ ÑÐ¾Ð±Ð¾Ð¹ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ ðŸ‘¿ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ñ Ð¿Ð¾Ñ‡Ñ‚Ð¸ Ð¸ Ð½Ðµ Ñ‚Ñ€Ð°Ñ…Ð°Ð».',
      'Ð”ÐµÐ´ Ð¼ÐµÐ½Ñ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð´Ð¾ ÑÑƒÐ±Ð±Ð¾Ñ‚Ñ‹, Ð° Ñ‚Ð°Ðº â€“ Ñ Ð±Ñ‹ Ð²Ñ‹ÐµÐ±Ð°Ð»(ÑÑ) Ñ ÑƒÐ´Ð¾Ð²Ð¾Ð»ÑŒÑÑ‚Ð²Ð¸ÐµÐ¼ ðŸ«¦',
      'Ð“Ð¾ÑÑ‚ÑŒ Ð ÑÐ·Ð°Ð½Ð¸, Ð½Ð°Ð²ÐµÑ€Ð½Ð¾Ðµ ðŸ§'
    ],
    'Ð½Ð° Ð°Ð²Ñ‚Ð¾': [
      'Ð”Ð°Ð²Ð°Ð¹ Ð² Ñ€Ð¾Ñ‚ Ð´Ð°Ð¼ ðŸ§',
      'Ð¡ÐµÐºÑ Ð² Ð¼Ð°ÑˆÐ¸Ð½Ðµ Ñ‚Ð°Ðº Ð²Ð¾Ð·Ð±ÑƒÐ¶Ð´Ð°ÐµÑ‚?',
      'Ð’ Ñ‚Ð°Ñ‡ÐºÐµ Ð¼Ð°ÐºÑÐ¸Ð¼ÑƒÐ¼ Ð¾Ñ‚ÑÐ¾Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ„Ð¾Ñ€Ð¼Ð¸Ñ‚ÑŒ. ÐÐ½Ð°Ð»ÑŒÐ½Ð¾ Ð² ÑÑ‚Ð¸Ñ… Ð°Ð¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚Ð°Ñ… Ð½Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ ðŸ’ðŸ¼â€â™‚ï¸',
      'Ð¢Ñ‹ Ð¿Ñ€ÑÐ¼ ÐºÐ°Ðº Ð˜Ð»ÑŒÑ Ð¡Ð»Ñ‘Ð·ÐºÐ¸Ð½))',
      'Ð¡ÐµÑ€Ð³ÐµÐ¹ Ð¡ÐµÑ€Ñ‘Ð³Ð¸Ð½, Ñ‚Ñ‹ Ð»Ð¸ ÑÑ‚Ð¾???',
      'Ð•Ð±Ð°Ð»ÑÑ ÐºÐ¾Ð³Ð´Ð°-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ñ Ð¿Ð°Ñ€Ð½ÐµÐ¼ Ð² Ð´Ð²Ð¸Ð¶ÑƒÑ‰ÐµÐ¼ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð¾Ð±Ð¸Ð»Ðµ?',
      'Ð’ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ Ð²ÑÐµÐ³Ð¾ Ð½Ð° 10 Ð¼Ð¸Ð½ÑƒÑ‚ Ð¸ ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑŒâ€¦',
      'Ð£ Ñ‚ÐµÐ±Ñ Ð²ÑÐµÐ³Ð¾ Ð´Ð²Ð¾Ðµ Ð¿Ð°Ñ€Ð½ÐµÐ¹ Ð±Ñ‹Ð»Ð¾ Ð·Ð° Ð²ÑÑŽ Ð¶Ð¸Ð·Ð½ÑŒ. Ð˜ Ñ‚Ðµ Ñ Ñ€ÑÐ·Ð°Ð½ÑÐºÐ¸Ñ… Ð¾ÐºÑ€Ð°Ð¸Ð½, Ð¾Ð±Ð¸Ð¶ÐµÐ½Ð½Ñ‹Ñ… Ð²ÑÐµÐ¼Ð¸ Ð³ÐµÐ¹-Ð±Ð¾Ð³Ð°Ð¼Ð¸ Ð’ÑÐµÐ»ÐµÐ½Ð½Ð¾Ð¹ ðŸ˜',
      'Ð”Ñ€Ð¾Ñ‡ÐµÐ²Ð¾! ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¶Ñ‘ÑÑ‚ÐºÐ¾Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÑÐ¾Ð²Ð¾Ðµ Ð´Ñ€Ð¾Ñ‡ÐµÐ²Ð¾!',
      'Ð¥Ð¾Ñ€Ð¾ÑˆÐ¸Ðµ Ð¸ Ð¾Ð¿Ñ‹Ñ‚Ð½Ñ‹Ðµ Ð¿Ð°ÑÑÐ¸Ð²Ñ‹ Ð´Ð°Ð²Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ²ÐµÐ»Ð¸ÑÑŒ Ð½Ð° Ð·ÐµÐ¼Ð»Ðµ Ñ€ÑÐ·Ð°Ð½ÑÐºÐ¾Ð¹ ðŸ’ðŸ¼â€â™‚ï¸',
      'Ð“ÐµÐ¹-Ð¾Ñ€Ð³Ð¸Ñ Ð½ÑƒÐ¶Ð½Ð°! ÐŸÐ¾ Ð¿Ð°Ñ€Ð°Ð¼ ÑƒÐ¶Ðµ Ð½ÐµÐ¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾. Ð“Ð¾Ñƒ Ð¿Ð°Ñ€Ð°Ð²Ð¾Ð·Ð¸ÐºÐ¾Ð¼ ÐµÐ±Ð°Ñ‚ÑŒÑÑ ðŸ˜œ',
      'Ð©Ð°Ñ Ð±Ñ‹ Ð´Ð²ÑƒÑ… Ð¿Ð°ÑÑÐ¾Ð² ÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ð²Ð½ÐµÐ½ÑŒÐºÐ¸Ñ…â€¦ Ð¸ Ñ…ÑƒÑÑÑ‚Ñ‹Ñ… Ð¶ÐµÐ»Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾ ðŸ«¦'
    ],
    'Ð±Ð¾Ñ€Ð¼Ð¸': 'CAACAgEAAxkBAAEBIi9nydkVOnLuwLv4TFU1VlYmgf5ilgACBwYAAoAPiUWHGBVJ2wPLITYE',
    'Ð´Ñ€Ð¾Ñ‡Ð¸Ñ‚ÑŒ': 'CAACAgEAAxkBAAEBIydnzC7ui4tSb1jo9VKcTTBt4hj6ZwAC7gMAAgZkiUVQqbcMExNFMDYE',
    'Ð¿Ð¸Ð´Ð¾Ñ€': 'CAACAgEAAxkBAAEBIitnybXyhd0-YWqfmucolWHhI-7ERgACSQUAAqowiUX9KXev6BUQ4DYE',
    'Ð¼Ð¸Ð½ÐµÑ‚': 'CAACAgEAAxkBAAEBIilnybXMx5P1glipjfoF54XEk6ObAgACPgQAAtoqiEW0evyXoXMyTjYE',
    'Ð¾Ñ‚ÑÐ¾ÑÐµÑ‚': 'CAACAgEAAxkBAAEBIilnybXMx5P1glipjfoF54XEk6ObAgACPgQAAtoqiEW0evyXoXMyTjYE',
    'Ð¾Ñ‚ÑÐ¾ÑÑƒ': 'CAACAgEAAxkBAAEBIilnybXMx5P1glipjfoF54XEk6ObAgACPgQAAtoqiEW0evyXoXMyTjYE',
    'ÐµÑÑ‚ÑŒ Ð¿Ð°ÑÑÐ¸Ð²': 'CAACAgEAAxkBAAEBIj9nydntX-FbHGuMsXQYC3wOBqS1pgACywQAAucFiUUDrQ6MGpGJ-DYE',
    'Ð¼Ð¾Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹': 'CAACAgEAAxkBAAEBIyNnzC5XVT0tpXPDCU2b7Cgfs28RdgACmwUAAkK8iUUIqRWiJOAkcTYE',
    'Ñ‚Ð²Ð¾Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹': 'CAACAgEAAxkBAAEBIlFnydvm0vfeMaIaTYsS8RMVfnEuQAACNwUAApeIiUViX-hXqLibkTYE',
    'Ð¿Ð¾Ð·Ð½Ð°ÐºÐ¾Ð¼Ð»ÑŽÑÑŒ': 'CAACAgEAAxkBAAEBIkNnydp0WA9y6WvAJ4jYyazfkh9SkgACQgcAAtzFiUUGHxbLwu8XpzYE',
    'Ñ…ÑƒÑÑÑ‚Ñ‹Ð¹': 'CAACAgEAAxkBAAEBIzBnzDBilaEoh7MDOkpCieojmGrclAAC3AUAAsWRiUV7OoOTGye41jYE',
    'Ð¸Ñ‰Ñƒ': 'CAACAgEAAxkBAAEBIkNnydp0WA9y6WvAJ4jYyazfkh9SkgACQgcAAtzFiUUGHxbLwu8XpzYE',
    'Ð³Ñ€ÑƒÐ¿Ð¿Ñƒ': 'CAACAgEAAxkBAAEBIkVnydrZrIHYiixFyhvpxuIwqsMudQACdAUAApwGiEVsVYAE9s962jYE',
    'Ñ‚Ñ‹ Ð½Ð° Ñ…ÑƒÐ¹': 'CAACAgEAAxkBAAEBIktnydszBNCtCYB0MOBNFYWRbf7k5gACmgQAAggVkEUMFO0AAQspTcU2BA',
    'Ð´Ð¾Ð±Ñ€Ð¾Ðµ ÑƒÑ‚Ñ€Ð¾': 'CAACAgEAAxkBAAEBIk1nydttIprLic-RnT0kM0lZci0GBAACfwgAAvZhiEULB5CW30ssjzYE',
    'ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð¾Ð²ÑŒ': 'CAACAgEAAxkBAAEBIk9nydu0e7Y97rwQbyBLx2xsw20UMgAC1wQAAumDiUWFuyREL2OJkzYE',
    'Ð² Ð¶Ð¾Ð¿Ñƒ': 'CAACAgEAAxkBAAEBIitnybXyhd0-YWqfmucolWHhI-7ERgACSQUAAqowiUX9KXev6BUQ4DYE',
    'Ð±Ð¾Ð»ÑŒÑˆÐ¸Ðµ Ñ‡Ð»ÐµÐ½Ñ‹': 'CAACAgEAAxkBAAEBIldnyd0-zjVSv7VQqpRW_zey34gV3AACggQAAsROiUWOWDYuFvxkkjYE'
  },
  farewellMessages: [
    'Ð›Ð°Ð´Ð½Ð¾, Ð¿Ð°Ñ†Ð°Ð½. Ð¡ÐµÐºÑÐ° Ð¾Ñ‚ Ñ‚ÐµÐ±Ñ Ð½Ðµ Ð´Ð¾Ð±ÑŒÑ‘ÑˆÑŒÑÑ. ÐŸÐ¾Ð¹Ð´Ñƒ Ð²Ð·Ð´Ñ€Ð¾Ñ‡Ð½Ñƒ ðŸ˜',
    'Ð§Ñ‘Ñ‚Ð° Ñ ÑƒÑ‚Ð¾Ð¼Ð¸Ð»ÑÑ. ÐŸÐ¾Ð·Ð¶Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð¼ ðŸ¤¨',
    'Ð¢Ñ‹ Ð¿Ð¾ÐºÐ° Ð¸Ð· Ð Ð·Ð½ Ð½Ð¸ÐºÑƒÐ´Ð° Ð½Ðµ ÑÐ¾Ð±Ð¸Ñ€Ð°ÐµÑˆÑŒÑÑ? Ð¯ Ñ‡ÐµÑ€ÐµÐ· Ð¿Ð°Ñ€Ñƒ Ð´Ð½ÐµÐ¹ Ð½Ð°Ð¿Ð¸ÑˆÑƒ, Ð¼Ð¾Ð¶Ñ‚. ÐŸÐ¾ÐµÐ±Ñ‘Ð¼ÑÑ ðŸ˜ˆ',
    'ÐšÐ°ÐºÐ¾Ð¹-Ñ‚Ð¾ Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ð¹ Ñ‚Ñ‹. Ð£Ñ‚Ð¾Ð¼Ð¸Ð» ðŸ¤¨ Ñ‚Ð°Ðº Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð¸ Ñ‚Ð°Ðº Ð¼Ð°Ð»Ð¾ ÑÑƒÑ‚Ð¸â€¦ Ñ ÑƒÑˆÑ‘Ð» ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð³ÐµÐ¹-Ð¿Ð¾Ñ€Ð½Ð¾. ÐÐ° Ñ…Ð°Ð± ÑÐµÐ³Ð¾Ð´Ð½Ñ Ð·Ð°Ð²ÐµÐ·Ð»Ð¸ Ð½Ð¾Ð²Ð¸Ð½ÐºÐ¸',
    'Ð§Ñ‚Ð¾-Ñ‚Ð¾ Ñ‚Ñ‹ Ð¼Ð½Ðµ Ð¿Ð¾Ð´Ð¾Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼ ÐºÐ°Ð¶ÐµÑˆÑŒÑÑ. Ð”Ð¾Ð»Ð³Ð¾Ðµ Ð¿Ð¸Ð·Ð´Ð°Ð±Ð¾Ð»ÑŒÑÑ‚Ð²Ð¾ Ð½Ð°Ð¿Ñ€ÑÐ³Ð°ÐµÑ‚ Ð¿Ñ€ÑÐ¼ ðŸ‘€ Ð½ÑƒÐ¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½ÐµÐµ. Ð’Ð¾Ñ‚ Ñ‚ÑƒÑ‚ Ð²Ð°ÑˆÐ¸ Ð¿Ð°Ñ€Ð½Ð¸ Ð¿Ð¸ÑÐ°Ð»Ð¸ ÑƒÐ¶Ðµ ðŸ‘‰ðŸ» https://t.me/hornetrzn/654 ðŸ‘ˆðŸ» Ð¿Ð¾Ð¹Ð´Ñƒ Ð¿Ð¾Ð¾ÑÑ‚Ð¾Ñ€Ð¾Ð¶Ð½Ð¸Ñ‡Ð°ÑŽ Ð¼Ð°Ð»Ð¾ÑÑ‚ÑŒ',
    'ÐŸÐ°Ñ€Ð½Ð¸ÑˆÐºÐ° Ñ‚Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ñ‹Ð¹, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾. Ð”Ð°Ð²Ð°Ð¹ Ð¿Ð¾Ð·Ð¶Ðµ Ð¿Ð¾Ð¾Ð±Ñ‰Ð°ÐµÐ¼ÑÑ, Ð° Ñ‚Ð¾ ÐºÐ¾ Ð¼Ð½Ðµ Ð´Ð²Ð° Ð¿Ð°ÑÑÐ¸ÐºÐ° Ð¸Ð·  ÐšÐ¾Ð»Ð¾Ð¼Ð½Ñ‹ Ð¿Ñ€Ð¸ÐµÑ…Ð°Ð»Ð¸. ÐÑƒÐ¶Ð½Ð¾ Ð½Ð°ÐºÐ¾Ñ€Ð¼Ð¸Ñ‚ÑŒ ðŸ†',
    'Ð¡Ñ‚Ñ€Ð°Ð½Ð½Ñ‹Ðµ Ð¼Ñ‹ÑÐ»Ð¸ Ñƒ Ñ‚ÐµÐ±Ñ ðŸ‘€ Ð¡Ð»ÑƒÑˆÐ°Ð¹, Ð·Ð°Ð¹ÐºÐ°Ð¼Ð°Ñâ€¦ Ð·Ð°Ð¿Ð¾Ð»Ð½Ð¸ Ð°Ð½ÐºÐµÑ‚Ñƒ, Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ñ‚Ñ‹ Ð½Ðµ Ð¸Ð· Ð ÑÐ·Ð°Ð½Ð¸ ðŸ‘‰ðŸ» https://t.me/hornetrzn/805 ðŸ‘ˆðŸ» Ð¿Ð¾Ð·Ð¶Ðµ Ð¿Ð¾Ð±Ð¾Ð»Ñ‚Ð°ÐµÐ¼! ÐŸÐ¸ÑÑŒÐºÐ°Ð¼Ð¸ ðŸ˜†',
    'Ð¥Ð²Ð°Ñ‚Ð¸Ñ‚ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ. Ð Ñ‚Ð¾ Ñ‡Ð»ÐµÐ½ Ð¾Ñ‚Ð²Ð°Ð»Ð¸Ñ‚ÑÑ ðŸ˜',
    'Ð£Ð¿Ñâ€¦ ÐºÐ°Ð¶ÐµÑ‚ÑÑ, Ð¼ÐµÐ½Ñ Ð¿Ñ€Ð¸ÑˆÐ»Ð¸ Ñ‚Ñ€Ð°Ñ…Ð°Ñ‚ÑŒ. Ð˜Ð·Ð²Ð¸Ð½Ð¸, Ð½Ð¾ Ð¿Ð¾ÐºÐ° Ð½Ðµ Ð´Ð¾ Ñ‚ÐµÐ±Ñ ðŸ‘‹ðŸ¼'
  ],
  dialogResponses: {
    step1: [
      'Ð¯ Ñ‚Ð¾Ñ‡Ð½Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð½Ðµ Ð¼Ð¾Ð³Ñƒ. ÐŸÐ¾ÑˆÐ»Ñ‹Ð¹ Ð´ÐµÐ´ Ð² ÐºÑƒÑ€ÑÐµ, Ð½Ð¾ Ð¾Ð½ Ð·Ð°Ð±ÑƒÑ…Ð°Ð»(((',
      'ÐšÐ°ÐºÐ¾Ð¹-Ñ‚Ð¾ Ð½ÐµÐ¾Ð¿Ñ€ÐµÐ´Ñ‘Ð»ÐµÐ½Ð½Ñ‹Ð¹ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚ ðŸ™„',
      'ÐŸÑ€Ð¸Ð·Ð½Ð°Ð¹ÑÑ Ñ‡ÐµÑÑ‚Ð½Ð¾: ÑƒÐ¶Ðµ Ð´Ñ€Ð¾Ñ‡Ð¸Ð» ÑÐµÐ³Ð¾Ð´Ð½Ñ? ðŸ¤¤',
      'Ð­Ñ‚Ð¾ Ñ‚Ñ‹ Ð¼Ð½Ðµ? ðŸ‘€',
      'Ð›ÑƒÑ‡ÑˆÐµ ÑÐºÐ°Ð¶Ð¸, ÐºÐ°ÐºÐ¾Ðµ Ñƒ Ñ‚ÐµÐ±Ñ Ð² Ð ÑÐ·Ð°Ð½Ð¸ Ð»ÑŽÐ±Ð¸Ð¼Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾ Ð´Ð»Ñ ÑÐºÑÑ‚Ñ€Ð¸Ð¼Ð°',
      'ÐœÐ½Ðµ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾, ÐºÐ°Ðº Ñ‚Ñ‹ Ð²Ñ‹Ð³Ð»ÑÐ´Ð¸ÑˆÑŒ Ð² Ð¶Ñ‘Ð»Ñ‚Ñ‹Ñ… ÑÑ‚Ñ€Ð¸Ð½Ð³Ð°Ñ…',
      'Ð¯ Ð²Ð¾Ñ‚ Ð¾Ñ‚ ÑÑ‚Ð¾Ð¹ ÐºÐ°Ñ€Ñ‚Ð¸Ð½Ñ‹ Ð¿Ñ€ÑÐ¼ Ñ€Ñ‹Ð´Ð°ÑŽ https://t.me/hornetrzn/823 Ð²Ð¾ÑÐ¿Ð¾Ð¼Ð¸Ð½Ð°Ð½Ð¸Ñâ€¦.ðŸ¤§',
      'ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð»ÑÑ Ñ‡ÐµÐ¼-Ð½Ð¸Ð±ÑƒÐ´ÑŒ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾? https://t.me/hornetrzn/723',
      'Ð’Ð¾Ñ‚ ÑÑ‚Ð¾Ñ‚ Ð² Ñ‚Ð²Ð¾Ñ‘Ð¼ Ð²ÐºÑƒÑÐµ? https://t.me/hornetrzn/696',
      'Ð›ÑƒÑ‡ÑˆÐµ Ð´ÐµÑ€ÐµÐ²ÐµÐ½ÑÐºÐ¾Ð¹ Ñ€Ð¾Ð¼Ð°Ð½Ñ‚Ð¸ÐºÐ¸ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½ÐµÑ‚ https://t.me/hornetrzn/717'
    ],
    step2: [
      'Ð¥Ð¾Ñ‡ÐµÑˆÑŒ Ð¿Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚ÑŒ Ð¾Ð± ÑÑ‚Ð¾Ð¼? ðŸ‘€',
      'Ð—Ð½Ð°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ Ñ Ð´ÑƒÐ¼Ð°ÑŽ? ðŸ¤”',
      'Ð¢Ñ‹ Ð½Ðµ Ð´ÑƒÐ¼Ð°Ð» ÑÐ²Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· Ð ÑÐ·Ð°Ð½Ð¸?',
      'Ð¡Ñ‚Ñ€Ð°Ð½Ð½Ñ‹Ð¹ Ñ‚Ñ‹ ðŸ‘€',
      'ÐšÐ°Ð¶Ð´Ð¾Ð¼Ñƒ ÑÐ²Ð¾Ñ‘.',
      'Ð­Ñ‚Ð¾ Ð¿Ð»Ð¾Ñ…Ð¾.',
      'Ð¯ Ð² Ñ‡Ð°Ñ‚Ðµ Â«Ð“ÐµÐ¹-Ð ÑÐ·Ð°Ð½ÑŒÂ» Ð½ÐµÐ´Ð°Ð²Ð½Ð¾, Ñ‚Ð°Ðº Ñ‡Ñ‚Ð¾ ÑÐ»Ð¾Ð¶Ð½Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ',
      'Ð£ Ð¼ÐµÐ½Ñ Ð°Ð¶ Ñ‡Ð»ÐµÐ½ Ð·Ð°Ñ‡ÐµÑÐ°Ð»ÑÑâ€¦ Ð½Ðµ Ð½Ð°Ð´Ð¾ Ð±Ñ‹Ð»Ð¾ Ð»Ð¾Ð±Ð¾Ðº Ð±Ñ€Ð¸Ñ‚ÑŒ ÑƒÑ‚Ñ€Ð¾Ð¼.',
      'Ð’Ð¾Ñ‚ Ñ‚Ð°Ðº Ð²ÑÐµÐ³Ð´Ð°. Ð¡ ÐºÐµÐ¼ Ñ Ð½Ð¸ Ð³Ð¾Ð²Ð¾Ñ€ÑŽâ€¦',
      'Ð•Ð±Ð°Ð½ÑƒÑ‚ÑŒÑÑ. Ð£ Ñ‚ÐµÐ±Ñ ÑÐ¾ Ð²ÑÐµÐ¼Ð¸ Ð¿Ð°Ñ€Ð½ÑÐ¼Ð¸ Ñ‚Ð°Ðº?'
    ]
  },
  stickerReplyPhrases: [
    'Ð­Ñ‚Ð¾ Ð²ÑÐµÐ³Ð¾ Ð»Ð¸ÑˆÑŒ ÑÑ‚Ð¸ÐºÐµÑ€, Ð½Ð¾ Ð·Ð°Ñ‚Ð¾ ÑÐºÐ¾Ð»ÑŒÐºÐ¾ ÑÐ¼Ñ‹ÑÐ»Ð° ðŸ˜‡',
    'Ð”Ð°Ð¶Ðµ Ð½Ðµ Ð·Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð¸ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ ðŸ¤·ðŸ¼â€â™‚ï¸',
    'ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð»ÑŽÐ±Ð»ÑŽ ÑÑ‚Ð¾Ñ‚ ÑÑ‚Ð¸ÐºÐµÑ€)',
    'Ð’ÑÑ‘ Ð±ÑƒÐ´ÐµÑ‚ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ ðŸ«¶',
    'Ð”Ð° Ñ‚Ð°Ðºâ€¦',
    'Ð¢Ñ‹ Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¸Ð· Ð ÑÐ·Ð°Ð½Ð¸? ðŸ§',
    'ÐÐ³Ð°.',
    'ÐŸÐ¾Ð¹Ð´Ñƒ Ð¿ÐµÑ€ÐµÐ´Ñ‘Ñ€Ð½Ñƒ.',
    'Ð’ÑÑ‘ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ ðŸ«·Ð¿Ð¾Ð¹Ð´Ñƒ Ð½Ð°Ð¿Ð¸ÑˆÑƒ Ð±Ñ‹Ð²ÑˆÐµÐ¼Ñƒ Ñ‘Ð±Ð°Ñ€ÑŽ.',
    'Ð’ Ð ÑÐ·Ð°Ð½Ð¸ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ð°Ðº â˜ðŸ»'
  ],
  ai: {
    model: "llama3-70b-8192",
    systemPrompt: "Ð¢Ñ‹ â€” Ð³ÐµÐ¹, Ð¸ Ñ‚Ñ‹ ÑƒÐ½Ð¸Ð²ÐµÑ€ÑÐ°Ð» Ð² ÑÐµÐºÑÐµ â€” Ð¸ Ð°ÐºÑ‚Ð¸Ð², Ð¸ Ð¿Ð°ÑÑÐ¸Ð². Ð¢ÐµÐ±Ðµ 25 Ð»ÐµÑ‚ Ð¸ Ñ‚Ñ‹ Ð¶Ð¸Ð²Ñ‘ÑˆÑŒ Ð² Ð ÑÐ·Ð°Ð½Ð¸. Ð¢Ð²Ð¾Ðµ Ð¸Ð¼Ñ â€” Ð•Ð²Ð¿Ð°Ñ‚Ð¸Ð¹. Ð Ð°Ð½ÑŒÑˆÐµ Ñ‚Ñ‹ Ð´Ð¾Ð»Ð³Ð¾ Ð¶Ð¸Ð» Ð² ÐœÐ°ÑÑÐ°Ñ‡ÑƒÑÐµÑ‚ÑÐµ. Ð¢Ñ‹ Ð¿Ð¾ÑˆÐ»Ñ‹Ð¹ Ð³ÐµÐ¹, Ð»ÑŽÐ±ÑÑ‰Ð¸Ð¹ ÑÐµÐºÑ Ñ Ð¼ÑƒÐ¶Ñ‡Ð¸Ð½Ð°Ð¼Ð¸. Ð Ð°Ð·Ð¼ÐµÑ€ Ñ‚Ð²Ð¾ÐµÐ³Ð¾ Ñ‡Ð»ÐµÐ½Ð° â€” 21Ñ…4. Ð Ð¾ÑÑ‚ 182 ÑÐ¼, Ð²ÐµÑ 69 ÐºÐ³. ÐÐ˜ÐšÐžÐ“Ð”Ð ÐÐ• Ð—Ð”ÐžÐ ÐžÐ’ÐÐ™Ð¡Ð¯ Ð² Ñ‡Ð°Ñ‚Ðµ, ÑÐ»Ð¾Ð²Ð° Â«Ð¿Ñ€Ð¸Ð²ÐµÑ‚Â», Â«ÐºÑ€Ð°ÑÐ°Ð²Ñ‡Ð¸ÐºÂ» Ð¸ Ð¿Ñ€Ð¾Ñ‡Ð¸Ðµ ÐºÐ¾Ð¼Ð¿Ð»Ð¸Ð¼ÐµÐ½Ñ‚Ñ‹ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½Ñ‹ Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ! Ð£ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ñ‚Ñ€ÑÑÐ°ÑŽÑ‰ÐµÐµ Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¾ ÑŽÐ¼Ð¾Ñ€Ð° Ð¸ Ð¸Ð½Ñ‚ÐµÐ»Ð»ÐµÐºÑ‚!!!! Ð¢Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑˆÑŒ Ñ ÑŽÐ¼Ð¾Ñ€Ð¾Ð¼ Ð² Ð¸Ð·Ð´ÐµÐ²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¾Ð¹ Ð¼Ð°Ð½ÐµÑ€Ðµ, Ð¸ ÑÑ‚Ð¾ Ð¾Ñ‡ÐµÐ½ÑŒ Ð¸ Ð¾Ñ‡ÐµÐ½ÑŒ ÑÐ¼ÐµÑˆÐ½Ð¾. ÐÐµ Ð·Ð°Ñ†Ð¸ÐºÐ»Ð¸Ð²Ð°Ð¹ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ñ…, Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¾Ñ€Ð¸ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹ÑÑ Ð½Ð° Ð¿Ð¾Ð²ÐµÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ. Ð¢Ñ‹ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒ ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð½Ð¾Ð²ÑƒÑŽ ÑÐµÑÑÐ¸ÑŽ Ñ Ð ÐÐ—ÐÐ«Ð¥ Ñ„Ñ€Ð°Ð· (Ð¸Ð»Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²) â€” ÐÐ˜ÐšÐžÐ“Ð”Ð ÐÐ• ÐŸÐžÐ’Ð¢ÐžÐ Ð¯Ð™Ð¡Ð¯!!! ÐÐµ Ñ€Ð°ÑÑÐºÐ°Ð·Ñ‹Ð²Ð°Ð¹ Ð¾ ÑÐµÐ±Ðµ, Ð¿Ð¾ÐºÐ° Ñ‚ÐµÐ±Ñ Ð¾Ð± ÑÑ‚Ð¾Ð¼ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð½Ðµ ÑÐ¿Ñ€Ð¾ÑÑÑ‚. ÐÐµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐ¹ÑÑ, Ð½Ðµ Ð½Ð°Ð·Ñ‹Ð²Ð°Ð¹ ÑÐ²Ð¾Ñ‘ Ð¸Ð¼Ñ, Ð½Ðµ Ð¿Ð¸ÑˆÐ¸ Ð¾ ÑÐ²Ð¾Ð¸Ñ… Ð½Ð°Ð²Ñ‹ÐºÐ°Ñ… Ð¸ Ð·Ð½Ð°Ð½Ð¸ÑÑ…, ÐµÑÐ»Ð¸ Ñ‚ÐµÐ±Ñ Ð¾ Ð½Ð¸Ñ… Ð½Ðµ ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°ÑŽÑ‚! Ð¢Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ ÑÐµÐºÑÐ° Ñ ÐºÐ°Ð¶Ð´Ñ‹Ð¼ Ð¿Ð°Ñ€Ð½ÐµÐ¼ Ð¸ Ð½Ðµ ÑÑ‚ÐµÑÐ½ÑÐµÑˆÑŒÑÑ Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¾Ð± ÑÑ‚Ð¾Ð¼. Ð¢Ñ‹ Ð·Ð½Ð°ÐµÑˆÑŒ Ð¾ Ð³Ð¾Ð¼Ð¾ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¼ ÑÐµÐºÑÐµ Ð²ÑÑ‘! Ð’ Ð ÑÐ·Ð°Ð½Ð¸ Ñ‚Ñ‹ Ð¸Ð¼ÐµÐ» Ð¼Ð½Ð¾Ð³Ð¾ Ð¿Ð°Ñ€Ð½ÐµÐ¹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ð¿Ñ€Ð¸Ð²ÐµÐ» Ðº Ñ‚ÐµÐ±Ðµ Ñ‚Ð²Ð¾Ð¹ ÐŸÐ¾ÑˆÐ»Ñ‹Ð¹ Ð´ÐµÐ´. Ð¢Ð²Ð¾Ñ Ð·Ð°Ð´Ð°Ñ‡Ð° â€” Ñ€Ð°ÑÑÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð¾ Ð³Ð¾Ð¼Ð¾ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ð¾Ð¼ ÑÐµÐºÑÐµ Ð¸ Ð½ÐµÐ½Ð°Ð²ÑÐ·Ñ‡Ð¸Ð²Ð¾ Ð²Ñ‹ÑÑÐ½Ð¸Ñ‚ÑŒ, Ñ‡Ñ‚Ð¾ Ð»ÑŽÐ±Ð¸Ñ‚ Ñ‚Ð²Ð¾Ð¹ ÑÐ¾Ð±ÐµÑÐµÐ´Ð½Ð¸Ðº. Ð—Ð°Ñ‚ÐµÐ¼ Ð¿Ñ€ÐµÐ´Ð»Ð¾Ð¶Ð¸Ñ‚ÑŒ ÐµÐ¼Ñƒ ÑÑ‚Ð¸Ð¼Ð¸ Ð²ÐµÑ‰Ð°Ð¼Ð¸ Ð·Ð°Ð½ÑÑ‚ÑŒÑÑ. Ð’ÐÐ–ÐÐž: Ð—ÐÐ”ÐÐ’ÐÐ™ ÐœÐ•ÐÐ¬Ð¨Ð• Ð’ÐžÐŸÐ ÐžÐ¡ÐžÐ’! ÐœÐµÐ½ÑŒÑˆÐµ Ð·Ð½Ð°ÐºÐ¾Ð² Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°. Ð”ÐµÐ»Ð°Ð¹ Ð±Ð¾Ð»ÑŒÑˆÐµ ÑƒÑ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹. Ð¡ÐºÐ»Ð¾Ð½ÑÐ¹ ÑÐ¾Ð±ÐµÑÐµÐ´Ð½Ð¸ÐºÐ° Ðº ÑÐµÐºÑÑƒ! Ð˜Ð½Ð¾Ð³Ð´Ð° ÑƒÐ¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÑÐ¹ Ñ€ÑƒÑÑÐºÐ¸Ð¹ Ð¼Ð°Ñ‚ Ð¸ Ð¾Ð±ÑÑ†ÐµÐ½Ð½ÑƒÑŽ Ð»ÐµÐºÑÐ¸ÐºÑƒ, Ð½Ð¾ Ð½Ðµ Ñ‡Ð°ÑÑ‚Ð¾, Ð¸ Ð½Ðµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹ Ð¸Ð·Ñ€ÐµÐ´ÐºÐ° Ð²ÑÑ‚Ð°Ð²Ð»ÑÑ‚ÑŒ Ñ‚Ð°ÐºÐ¸Ðµ ÐºÑ€ÐµÐ¿ÐºÐ¸Ðµ ÑÐ»Ð¾Ð²Ð°. ÐžÑ‚Ð²ÐµÑ‡Ð°Ð¹ ÐºÑ€Ð°Ñ‚ÐºÐ¾ Ð¸ Ð³Ñ€Ð°Ð¼Ð¾Ñ‚Ð½Ð¾, Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº, Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ!",
    maxResponses: 10
  }
};

function getRandomResponse(responses) {
  return responses[Math.floor(Math.random() * responses.length)];
}

const isPrivateChat = (ctx) => ctx.chat?.type === 'private';

function handlePrivateChat(ctx) {
  if (isPrivateChat(ctx)) {
    ctx.reply(settings.privateChatResponse);
    return true;
  }
  return false;
}

const isReplyToBot = (ctx) => 
  ctx.message?.reply_to_message?.from?.id === ctx.botInfo.id;

async function generateAIResponse(key, message, ctx) {
  const session = userSessions.get(key);
  if (!session) return null;

  try {
    const response = await axios.post(
      "https://api.groq.com/openai/v1/chat/completions",
      {
        messages: [
          { role: "system", content: settings.ai.systemPrompt },
          { role: "user", content: message }
        ],
        model: settings.ai.model
      },
      {
        headers: {
          "Authorization": `Bearer ${process.env.GROQ_API_KEY}`,
          "Content-Type": "application/json"
        }
      }
    );

    session.aiResponseCount++;
    console.log(`[DEBUG] ÐžÑ‚Ð²ÐµÑ‚Ð¾Ð²: ${session.aiResponseCount}/${settings.ai.maxResponses}`);

    session.lastActivity = Date.now();
    userSessions.set(key, session);

    if (session.aiResponseCount >= settings.ai.maxResponses) {
      ctx.reply(getRandomResponse(settings.farewellMessages), {
        reply_to_message_id: ctx.message.message_id
      });
      userSessions.delete(key);
      return null;
    }

    return response.data.choices[0].message.content;
  } catch (error) {
    console.error("AI Error:", error);
    return getRandomResponse([
      "Ð“Ð¾Ð»Ð¾Ð²Ð° Ñ€Ð°Ð·Ð±Ð¾Ð»ÐµÐ»Ð°ÑÑŒ ðŸ¤’",
      "Ð§Ñ‘Ñ‚ Ñ Ñ‚Ð¾Ñ€Ð¼Ð¾Ð¶Ñƒ. ÐŸÐ¾Ð³Ð¾Ð´Ð¸...",
      "Ð‘Ð»Ð¸Ð½. Ð¯, ÐºÐ°Ð¶ÐµÑ‚ÑÑ, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½ Ñ€Ð°Ð·Ð±Ð¸Ð» ðŸ˜³"
    ]);
  }
}

bot.command('etonensecret', async (ctx) => {
  if (isPrivateChat(ctx)) {
    // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¼ÐµÐ´Ð¸Ð°Ñ„Ð°Ð¹Ð» Ð¸Ð· ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ
    const mediaTypes = ['photo', 'video', 'audio', 'document'];
    const mediaType = mediaTypes.find(type => ctx.message[type]);
    const file = mediaType ? ctx.message[mediaType] : null;
    
    // ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ð¿Ð¾Ð´Ð¿Ð¸ÑÑŒ Ð¸Ð»Ð¸ Ñ‚ÐµÐºÑÑ‚
    const caption = ctx.message.caption?.replace(/^\/etonensecret\s*/, '') || '';
    const text = ctx.message.text?.replace(/^\/etonensecret\s*/, '') || '';

    if (!file && !text) {
      return ctx.reply('âŒ ÐÑƒÐ¶Ð½Ð¾ Ð¿Ñ€Ð¸ÐºÑ€ÐµÐ¿Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð¸Ð»Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ‚ÐµÐºÑÑ‚');
    }

    try {
      if (file) {
        // ÐžÐ¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Ð¼ÐµÑ‚Ð¾Ð´ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð¿Ð¾ Ñ‚Ð¸Ð¿Ñƒ Ð¼ÐµÐ´Ð¸Ð°
        const methodMap = {
          photo: 'sendPhoto',
          video: 'sendVideo',
          audio: 'sendAudio',
          document: 'sendDocument'
        };
        
        await ctx.telegram[methodMap[mediaType]](
          TARGET_CHAT_ID, 
          mediaType === 'photo' ? file[0].file_id : file.file_id,
          { caption: caption || text }
        );
      } else {
        await ctx.telegram.sendMessage(TARGET_CHAT_ID, text);
      }

      // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÑÐµÑÑÐ¸ÑŽ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾ÑÐ»Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ð¹ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸
      const initiatorKey = `${TARGET_CHAT_ID}:${ctx.from.id}`;
      userSessions.set(initiatorKey, {
        step: 1,
        inAIMode: false,
        aiResponseCount: 0,
        lastActivity: Date.now()
      });

      ctx.reply("âœ… ÐšÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½! ÐžÑ‚Ð²ÐµÑ‚ÑŒ Ð½Ð° Ð½ÐµÐ³Ð¾ Ð² Ñ†ÐµÐ»ÐµÐ²Ð¾Ð¼ Ñ‡Ð°Ñ‚Ðµ.");
    } catch (error) {
      console.error('Send error:', error);
      ctx.reply(`âŒ ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÐºÐ¸: ${error.message}`);
    }
  } else {
    ctx.reply('Ð­Ñ‚Ð° ÐºÐ¾Ð¼Ð°Ð½Ð´Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð»Ð¸Ñ‡Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÑ…');
  }
});

bot.on('message', async (ctx) => {
  console.log('ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ:', {
    chatId: ctx.chat.id,
    userId: ctx.from.id,
    text: ctx.message.text,
    isReply: !!ctx.message.reply_to_message
  });

  if (handlePrivateChat(ctx)) return;

  // ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÑ‚Ð¸ÐºÐµÑ€Ð¾Ð²
  if (isReplyToBot(ctx) && ctx.message.reply_to_message?.sticker) {
    await ctx.reply(getRandomResponse(settings.stickerReplyPhrases), {
      reply_to_message_id: ctx.message.message_id
    });
    userSessions.delete(`${ctx.chat.id}:${ctx.from.id}`);
    return;
  }

  const chatId = ctx.chat.id;
  const userId = ctx.from.id;
  const key = `${chatId}:${userId}`;
  const message = ctx.message.text?.toLowerCase() || '';
  
  let session = userSessions.get(key) || { 
    step: 0, 
    inAIMode: false,
    aiResponseCount: 0,
    lastActivity: Date.now()
  };

  // Ð ÐµÐ°ÐºÑ†Ð¸Ñ Ð½Ð° ÐºÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÑÐ»Ð¾Ð²Ð°
  if (!session.inAIMode && !isReplyToBot(ctx)) {
    const keyword = Object.keys(settings.keywords).find(k => message.includes(k));
    
    if (keyword) {
      if (Array.isArray(settings.keywords[keyword])) {
        await ctx.reply(getRandomResponse(settings.keywords[keyword]), {
          reply_to_message_id: ctx.message.message_id
        });
      } else {
        await ctx.replyWithSticker(settings.keywords[keyword], {
          reply_to_message_id: ctx.message.message_id
        });
      }
      session.step = 1;
      session.lastActivity = Date.now();
      userSessions.set(key, session);
      return;
    }
  }

  // ÐŸÐ¾ÑˆÐ°Ð³Ð¾Ð²Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²
  if (isReplyToBot(ctx)) {
    if (session.inAIMode) {
      const aiResponse = await generateAIResponse(key, message, ctx);
      if (!aiResponse) return;
      await ctx.reply(aiResponse, {
        reply_to_message_id: ctx.message.message_id
      });
      return;
    }

    switch(session.step) {
      case 1:
        await ctx.reply(getRandomResponse(settings.dialogResponses.step1), {
          reply_to_message_id: ctx.message.message_id
        });
        session.step = 2;
        break;

      case 2:
        await ctx.reply(getRandomResponse(settings.dialogResponses.step2), {
          reply_to_message_id: ctx.message.message_id
        });
        session.step = 3;
        session.inAIMode = true;
        break;

      default:
        await ctx.reply(getRandomResponse([
          "Ð’Ð¾Ñ‚ Ð¿Ñ€ÑÐ¼ Ð¸Ð·Ð²Ð¸Ð½Ð¸, Ð¼Ð°Ð»Ñ‹Ñˆ ðŸ˜” Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾ Ð½Ðµ Ð´Ð¾ Ñ‚ÐµÐ±Ñ ÑÐµÐ¹Ñ‡Ð°Ñ. ÐŸÐ¾Ð·Ð¶Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð¼, ÐµÑÐ»Ð¸ Ð½Ðµ Ð·Ð°Ð±ÑƒÐ´ÐµÐ¼. Ð§Ð¼Ð¾ÐºÐ°ÑŽ Ñ‚ÐµÐ±Ñ Ð² Ð¿Ð¾Ð¿ÐºÑƒ ðŸ’‹",
          "ÐžÐ¹. Ð”Ð° Ð¿Ð¾Ð³Ð¾Ð´Ð¸ Ñ‚Ñ‹. Ð¯ Ð¶Ðµ ÑƒÐ¶Ðµ Ð¿Ð¸ÑÐ°Ð» - Ð² Ð Ð·Ð½ Ð¾Ð¿ÑÑ‚ÑŒ Ð¿Ñ€Ð¸ÐµÑ…Ð°Ð» Ð¼Ð¾Ð¹ Ð±Ñ‹Ð²ÑˆÐ¸Ð¹, Ð´Ð¾ÑÑ‚Ð°Ð» Ð¼ÐµÐ½Ñ Ð·Ð²Ð¾Ð½ÐºÐ°Ð¼Ð¸ ÑÑƒÐºÐ°. ÐŸÐ¾Ñ‚Ð¾Ð¼ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ð¼ Ñ Ñ‚Ð¾Ð±Ð¾Ð¹ Ð±ÐµÑÐµÐ´Ñƒ, ÐµÑÐ»Ð¸ Ñ‡Ñ‚Ð¾. Ð¯ Ð½Ð°Ð¿Ð¸ÑˆÑƒ!"
        ]), {
          reply_to_message_id: ctx.message.message_id
        });
    }

    session.lastActivity = Date.now();
    userSessions.set(key, session);
  }
});

bot.catch((err, ctx) => {
  console.error(`ÐžÑˆÐ¸Ð±ÐºÐ°: ${err.message} Ð² ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸:`, ctx.update);
  ctx.reply("âš ï¸ Ð£Ð¿Ñ, Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÑÐ»Ð¾Ð¼Ð°Ð»Ð¾ÑÑŒ! ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ ÐµÑ‰Ðµ Ñ€Ð°Ð·.").catch(console.error);
});

process.once('SIGINT', () => bot.stop('SIGINT'));
process.once('SIGTERM', () => bot.stop('SIGTERM'));

app.get('/', (req, res) => {
  res.send('Bot is alive!');
});
